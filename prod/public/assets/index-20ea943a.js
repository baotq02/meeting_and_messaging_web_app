import{j as e,r as a}from"./index-a76c64f4.js";const r=[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Michael Johnson"},{id:4,name:"Emily Davis"}],c=[{id:1,participants:["John Doe","Jane Smith"],messages:[{id:1,sender:"John Doe",content:"Hello Jane!",timestamp:"2023-06-24T10:30:00Z"},{id:2,sender:"Jane Smith",content:"Hi John! How are you?",timestamp:"2023-06-24T10:32:00Z"},{id:3,sender:"John Doe",content:"I'm good, thanks! How about you?",timestamp:"2023-06-24T10:34:00Z"}]},{id:2,participants:["John Doe","Michael Johnson"],messages:[{id:1,sender:"John Doe",content:"Hey Mike!",timestamp:"2023-06-24T11:00:00Z"},{id:2,sender:"Michael Johnson",content:"Hi John! Long time no see.",timestamp:"2023-06-24T11:02:00Z"}]}],l={friends:r,conversations:c},h=({children:t})=>{const n=()=>{sessionStorage.removeItem("token"),window.location.reload()};return e.jsxs("div",{children:[e.jsxs("header",{children:[e.jsx("h1",{children:"Messaging App"}),e.jsx("button",{onClick:n,children:"Logout"})]}),e.jsx("main",{children:t}),e.jsx("footer",{children:e.jsx("p",{children:"Â© 2023 Messaging App. All rights reserved."})})]})},p=({token:t})=>{const[n,o]=a.useState(null),d=s=>(console.log(s),new Promise(i=>{setTimeout(()=>{i(l)},2e3)}));return a.useEffect(()=>{n||d(t).then(s=>{o(s)}).catch(s=>{console.log("Error:",s)})},[t]),e.jsx(h,{children:e.jsx("div",{className:"message-app",children:n?e.jsxs("section",{className:"main",children:[e.jsx("div",{className:"friends-list",children:n.friends.map(s=>e.jsx("div",{children:s.name},s.id))}),e.jsxs("div",{className:"start-conversation",children:[e.jsx("h2",{children:"Start a New Conversation"}),n.conversations.map(s=>e.jsxs("div",{children:["Participants: ",s.participants.join(", ")]},s.id))]}),e.jsx("div",{className:"message-list",children:n.conversations.map(s=>e.jsx("div",{children:s.messages.map(i=>e.jsxs("div",{children:[i.sender,": ",i.content]},i.id))},s.id))}),e.jsxs("div",{className:"message-input",children:[e.jsx("input",{type:"text",placeholder:"Type your message..."}),e.jsx("button",{children:"Send"})]})]}):e.jsxs("div",{className:"skeleton",children:[e.jsx("div",{className:"friends-list",children:"Loading..."}),e.jsxs("div",{className:"start-conversation",children:[e.jsx("h2",{children:"Start a New Conversation"}),"Loading..."]}),e.jsx("div",{className:"message-list",children:"Loading..."}),e.jsxs("div",{className:"message-input",children:[e.jsx("input",{type:"text",placeholder:"Type your message...",disabled:!0}),e.jsx("button",{disabled:!0,children:"Send"})]})]})})})};export{p as default};
