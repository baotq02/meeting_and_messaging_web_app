import{j as e,r as c,P as d}from"./index-48aabe1c.js";const m=[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Michael Johnson"},{id:4,name:"Emily Davis"}],h=[{id:1,participants:["John Doe","Jane Smith"],messages:[{id:1,sender:"John Doe",content:"Hello Jane!",timestamp:"2023-06-24T10:30:00Z"},{id:2,sender:"Jane Smith",content:"Hi John! How are you?",timestamp:"2023-06-24T10:32:00Z"},{id:3,sender:"John Doe",content:"I'm good, thanks! How about you?",timestamp:"2023-06-24T10:34:00Z"}]},{id:2,participants:["John Doe","Michael Johnson"],messages:[{id:1,sender:"John Doe",content:"Hey Mike!",timestamp:"2023-06-24T11:00:00Z"},{id:2,sender:"Michael Johnson",content:"Hi John! Long time no see.",timestamp:"2023-06-24T11:02:00Z"}]}],u={friends:m,conversations:h};const x=({name:t,profilePicture:n,isOnline:o})=>e.jsxs("div",{className:"user-card",children:[e.jsx("img",{src:n,alt:"Profile",className:"profile-picture"}),e.jsxs("div",{className:"user-info",children:[e.jsx("h3",{children:t}),e.jsx("p",{className:o?"online":"offline",children:o?"Online":"Offline"})]})]});const r={text:"#000",bg:"#ffffff"},l={text:"#ffffff",bg:"#000"},p=()=>{const[t,n]=c.useState(sessionStorage.getItem("theme")==="light"),o=()=>{n(!t)};return c.useEffect(()=>{var a,s;t?(sessionStorage.setItem("theme","light"),(a=document.querySelector(".switcher-label"))==null||a.classList.remove("active"),document.documentElement.style.setProperty("--text-color",l.text),document.documentElement.style.setProperty("--background-color",l.bg)):(sessionStorage.setItem("theme","dark"),(s=document.querySelector(".switcher-label"))==null||s.classList.add("active"),document.documentElement.style.setProperty("--text-color",r.text),document.documentElement.style.setProperty("--background-color",r.bg))},[t]),e.jsxs("div",{className:"theme-switch-container",children:[e.jsx("input",{type:"checkbox",id:"switcher-input",checked:t,onChange:o}),e.jsxs("label",{className:"switcher-label",htmlFor:"switcher-input",children:[e.jsx("i",{className:"fas fa-solid fa-sun"}),e.jsx("span",{className:"switcher-toggler"}),e.jsx("i",{className:"fas fa-solid fa-moon"})]})]})};const g=({children:t})=>{const n=()=>{sessionStorage.removeItem("token"),window.location.reload()};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{children:[e.jsx(x,{isOnline:!0,name:"Nguyen Van A",profilePicture:""}),e.jsxs("div",{className:"flex",children:[e.jsx(p,{}),e.jsx("button",{id:"logout-btn",onClick:n,children:"Logout"})]})]}),e.jsx("main",{children:t}),e.jsx("footer",{children:e.jsx("p",{children:"Â© 2023 Messaging App. All rights reserved."})})]})},j=({token:t})=>{const[n,o]=c.useState(null),a=s=>(console.log(s),new Promise(i=>{setTimeout(()=>{i(u)},2e3)}));return c.useEffect(()=>{n||a(t).then(s=>{o(s)}).catch(s=>{console.log("Error:",s)})},[t]),e.jsx(g,{children:e.jsx("div",{className:"message-app",children:n?e.jsxs("section",{className:"main",children:[e.jsx("div",{className:"friends-list",children:n.friends.map(s=>e.jsx("div",{children:s.name},s.id))}),e.jsxs("div",{className:"start-conversation",children:[e.jsx("h2",{children:"Start a New Conversation"}),n.conversations.map(s=>e.jsxs("div",{children:["Participants: ",s.participants.join(", ")]},s.id))]}),e.jsx("div",{className:"message-list",children:n.conversations.map(s=>e.jsx("div",{children:s.messages.map(i=>e.jsxs("div",{children:[i.sender,": ",i.content]},i.id))},s.id))}),e.jsxs("div",{className:"message-input",children:[e.jsx("input",{type:"text",placeholder:"Type your message..."}),e.jsx("button",{children:"Send"})]})]}):e.jsx(d,{size:300})})})};export{j as default};
